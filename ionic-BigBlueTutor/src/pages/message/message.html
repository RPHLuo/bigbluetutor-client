<ion-header>
  <ion-navbar class="messageheader">
    <ion-title>
      <div id="header">
        <button ion-button menuToggle>
          <ion-icon name='menu'></ion-icon>
        </button>
        <strong class="username">{{username}}</strong>
        <button id="requestButton" (click)="requestMeeting()" class="bluebutton" ion-button item-right>Request<br/> Meeting</button>
      </div>
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content #content>
  <ion-list class="sentmsgfield">
    <div *ngFor="let msg of messages" [ngSwitch]="msg.special">
      <div class="sessionreq" *ngSwitchCase="'IncomingRequest'" >
        <button ion-button class="msg_bbbsession_title bluebutton">SESSION REQUEST</button>
        <div class="msg_bbbsession_body">
          <div class="msg_bbbsession_buttons">
            <button ion-button round class="bluebutton" (click)="requestMeeting()">JOIN</button>
            <button ion-button round class="whitebutton" (click)="declineMeeting()">DECLINE</button>
          </div>
        </div>
      </div>
      <div class="sessionreq" *ngSwitchCase="'OutgoingRequest'" >
        <button ion-button class="msg_bbbsession_title bluebutton">Meeting Request</button>
        <div class="msg_bbbsession_body">
            <p class="sessionmsg">Waiting for {{username}}...</p>
        </div>
      </div>
      <div class="sessionreq" *ngSwitchCase="'ActiveSession'" >
        <button ion-button class="msg_bbbsession_title bluebutton">Active Session</button>
        <div class="msg_bbbsession_body">
            <p class="sessionmsg">Tutoring Session currently in progress</p>
        </div>
      </div>
      <div class="sessionreq" *ngSwitchCase="'DeclinedRequest'" >
        <button ion-button class="msg_bbbsession_title bluebutton">Declined</button>
        <div class="msg_bbbsession_body">
            <p class="sessionmsg">{{msg.user}} has declined.</p>
        </div>
      </div>
        <button class="message" *ngSwitchDefault ion-item><b>{{msg.user}}</b>&emsp;&emsp;{{msg.message}}</button>
    </div>
  </ion-list>
  <div class=messagefield>
    <ion-input #textInput [(ngModel)]="input" placeholder="Type a message..." class="inputmessage"></ion-input>
    <button (click)="sendMessage()" class="msgsend bluebutton" ion-button round>Send</button>
  </div>
</ion-content>
